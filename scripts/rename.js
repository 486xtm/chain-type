/**
 * Rename ugly names generated by solc to something human redable.
 * NOTE: we assume that there is only one contract per file
 */
const fs = require('fs')
const { join } = require('path')

const dir = './abis/'

const files = fs.readdirSync(dir)

for (const file of files) {
  const renamed = file.replace(/^__contracts_([A-Za-z]+)_sol_([A-Za-z]*)\.([a-z]+)$/, '$1.$3')

  console.log(file, ' => ', renamed)
  fs.renameSync(join(dir, file), join(dir, renamed))
}
